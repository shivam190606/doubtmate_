{% extends 'layout.html' %}
{% block content %}

<div style="max-width: 800px; margin: 0 auto;">

  <!-- User Info Card -->
  <div class="card" style="text-align: center; padding: 2rem;">
    <div
      style="width: 80px; height: 80px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2rem; font-weight: 700; margin: 0 auto 1rem;">
      {{ profile_user.username[0].upper() }}
    </div>
    <h2 style="margin-bottom: 0.5rem;">{{ profile_user.username }}</h2>
    <p style="color: var(--text-muted);">Joined on {{ profile_user.created_at.split('T')[0] }}</p>
  </div>

  <!-- Doubts List -->
  <div class="card">
    <h3 style="margin-bottom: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 0.5rem;">Posted Doubts</h3>

    {% if doubts|length == 0 %}
    <p style="color: var(--text-muted);">No doubts posted yet.</p>
    {% else %}
    <div style="display: flex; flex-direction: column; gap: 0;">
      {% for d in doubts %}
      <div
        style="padding: 1rem; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center;">
        <a href="{{ url_for('view_doubt', doubt_id=d.id) }}" style="font-weight: 500; font-size: 1.1rem;">{{ d.title
          }}</a>
        <span style="font-size: 0.875rem; color: var(--text-muted);">{{ d.created_at.split('T')[0] }}</span>
      </div>
      {% endfor %}
    </div>
    {% endif %}
  </div>

</div>

{% endblock %}